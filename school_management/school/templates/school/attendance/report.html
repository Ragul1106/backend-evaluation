{% extends 'base.html' %} {% block content %}

<h4>Attendance Report</h4>
<form class="row g-2 mb-3">
  <div class="col-auto">
    <select class="form-select" name="classroom">
      <option value="">All Classes</option>
      {% for c in classes %}
      <option value="{{ c.id }}">{{ c.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-auto">
    <select class="form-select" name="subject">
      <option value="">All Subjects</option>
      {% for s in subjects %}
      <option value="{{ s.id }}">{{ s.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-secondary">Filter</button>
  </div>
</form>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Date</th>
      <th>Class</th>
      <th>Subject</th>
      <th>Student</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    {% for r in records %}
    <tr>
      <td>{{ r.date }}</td>
      <td>{{ r.classroom.name }}</td>
      <td>{{ r.subject.name }}</td>
      <td>{{ r.student.user.get_full_name }} ({{ r.student.roll_no }})</td>
      <td>{{ r.status }}</td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="5">No records</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
