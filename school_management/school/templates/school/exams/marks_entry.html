{% extends 'base.html' %} {% block content %}

<h4>Marks Entry</h4>
<form method="post">
  {% csrf_token %}
  <div class="row g-2">
    <div class="col-auto">
      <select class="form-select" name="exam" required>
        {% for e in exams %}
        <option value="{{ e.id }}">{{ e.name }} ({{ e.session.name }})</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-auto">
      <select class="form-select" name="subject" required>
        {% for s in subjects %}
        <option value="{{ s.id }}">{{ s.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-auto">
      <select class="form-select" name="classroom" required>
        {% for c in classes %}
        <option value="{{ c.id }}">{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>
  </div>
  <hr />
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Roll</th>
        <th>Name</th>
        <th>Score</th>
      </tr>
    </thead>
    <tbody>
      {% for st in classes.first.students.all %}
      <tr>
        <td>{{ st.roll_no }}</td>
        <td>{{ st.user.get_full_name }}</td>
        <td>
          <input
            class="form-control"
            type="number"
            step="0.01"
            min="0"
            max="100"
            name="score_{{ st.id }}"
          />
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <button class="btn btn-primary">Save</button>
</form>
{% endblock %}
